{"title":"Javascript 实现链表","date":"2021-08-21T18:21:29.000Z","date_formatted":{"ll":"Aug 21, 2021","L":"08/21/2021","MM-DD":"08-21"},"link":"articles/2021/8574f7040288","tags":["Javascript"],"categories":["Technology"],"updated":"2021-08-23T13:07:28.459Z","content":"<h2 id=\"总结\">总结<a title=\"#总结\" href=\"#总结\"></a></h2>\n<ol>\n<li>构建一个完整的链表，需要创建两个类：<code>Node</code> 节点类和 <code>*LinkedList</code> 链表类</li>\n<li>如此构建的链表有着快捷的 <strong><em>增 删 查 改</em></strong> 的操作</li>\n<li>但内存消耗大，典型的以时间换空间（<code>next</code> 和 <code>prev</code> 的指针域采用套娃的形式连接每一个节点）</li>\n</ol>\n<span id=\"more\"></span>\n<h2 id=\"代码\">代码<a title=\"#代码\" href=\"#代码\"></a></h2>\n<h3 id=\"node-节点类\">Node 节点类<a title=\"#node-节点类\" href=\"#node-节点类\"></a></h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">val = <span class=\"number\">0</span>, next = <span class=\"literal\">null</span>, prev = <span class=\"literal\">null</span></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 链表数据域</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.val = val</span><br><span class=\"line\">        <span class=\"comment\">// 链表指针域</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.next = next</span><br><span class=\"line\">        <span class=\"comment\">// 链表指针域（双向链表）</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.prev = prev</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"single-linked-list-单向链表类\">Single Linked List 单向链表类<a title=\"#single-linked-list-单向链表类\" href=\"#single-linked-list-单向链表类\"></a></h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SingleLinkedList</span> </span>&#123;</span><br><span class=\"line\">    #head</span><br><span class=\"line\">    #currentNode</span><br><span class=\"line\">    #size</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">head = <span class=\"string\">&#x27;head&#x27;</span></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 表头节点</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#head = <span class=\"keyword\">new</span> Node(head)</span><br><span class=\"line\">        <span class=\"comment\">// 当前节点</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"comment\">// 链表长度</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 查找 val 节点</span></span><br><span class=\"line\">    find (val) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode &amp;&amp; <span class=\"built_in\">this</span>.#currentNode.val !== val) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 查找最后添加的节点</span></span><br><span class=\"line\">    findLasst () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode.next) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 prevNode 之后插入 val 节点</span></span><br><span class=\"line\">    insert (val, prevNode) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.find(prevNode)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.#currentNode) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">`<span class=\"subst\">$&#123;prevNode&#125;</span> is undefined`</span>)</span><br><span class=\"line\">        val = <span class=\"keyword\">new</span> Node(val)</span><br><span class=\"line\">        val.next = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.next = val</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size++</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表尾部添加 val 节点</span></span><br><span class=\"line\">    append (val) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.findLasst()</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.next = <span class=\"keyword\">new</span> Node(val)</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size++</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 移除 val 节点</span></span><br><span class=\"line\">    remove (val) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 移除的节点不存在</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.find(val)) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 移除的节点为表头的情况</span></span><br><span class=\"line\">        <span class=\"comment\">// 链表长度不为 0 时，直接返回；若删除表头，则将找不到该链表的入口</span></span><br><span class=\"line\">        <span class=\"comment\">// 链表长度为 0 时，将表头的 next 指针置空</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (val === <span class=\"built_in\">this</span>.#head.val) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.#head.next = <span class=\"literal\">null</span></span><br><span class=\"line\">                <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode.next.val !== val) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.#currentNode.next) <span class=\"keyword\">return</span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.next = <span class=\"built_in\">this</span>.#currentNode.next.next</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size--</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 链表是否为空</span></span><br><span class=\"line\">    isEmpty () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#size === <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 显示当前的节点</span></span><br><span class=\"line\">    show () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.#currentNode?.val)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取链表的长度</span></span><br><span class=\"line\">    getLength () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#size</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 节点指针从 currentNode 位置（默认表头）前进 num 位</span></span><br><span class=\"line\">    forward (num, start) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = start ? <span class=\"built_in\">this</span>.find(start) : <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (num-- &amp;&amp; <span class=\"built_in\">this</span>.#currentNode?.next) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 返回表头</span></span><br><span class=\"line\">    goToHead () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 遍历显示链表</span></span><br><span class=\"line\">    display () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode) &#123;</span><br><span class=\"line\">            result += <span class=\"built_in\">this</span>.#currentNode.val</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.#currentNode) result += <span class=\"string\">&#x27;-&gt;&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 清空链表</span></span><br><span class=\"line\">    clear () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#head.next = <span class=\"literal\">null</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"double-linked-list-双向链表类\">Double Linked List 双向链表类<a title=\"#double-linked-list-双向链表类\" href=\"#double-linked-list-双向链表类\"></a></h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoubleLinkedList</span> </span>&#123;</span><br><span class=\"line\">    #head</span><br><span class=\"line\">    #tail</span><br><span class=\"line\">    #currentNode</span><br><span class=\"line\">    #size</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title\">constructor</span> (<span class=\"params\">head = <span class=\"string\">&#x27;head&#x27;</span></span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#head = <span class=\"keyword\">new</span> Node(head)</span><br><span class=\"line\">        <span class=\"comment\">// 表尾</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#tail = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    find (val) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode &amp;&amp; <span class=\"built_in\">this</span>.#currentNode.val !== val) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    showLast () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#tail</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    insert (val, prevNode) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// preNode 为末尾节点的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (prevNode === <span class=\"built_in\">this</span>.#tail.val) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"keyword\">new</span> Node(val)</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#tail.next = <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode.prev = <span class=\"built_in\">this</span>.#tail</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#tail = <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#size++</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.find(prevNode)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.#currentNode) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">`<span class=\"subst\">$&#123;prevNode&#125;</span> is undefined`</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        val = <span class=\"keyword\">new</span> Node(val)</span><br><span class=\"line\">        val.prev = <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        val.next = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.next = val</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size++</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    append (val) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"keyword\">new</span> Node(val)</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#tail.next = <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.prev = <span class=\"built_in\">this</span>.#tail</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#tail = <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size++</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    remove (val) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// val 节点为末尾的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (val === <span class=\"built_in\">this</span>.#tail.val) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#tail.prev</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode.next = <span class=\"literal\">null</span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#size--</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (val === <span class=\"built_in\">this</span>.#head.val) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.head.next = <span class=\"literal\">null</span></span><br><span class=\"line\">                <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.find(val)</span><br><span class=\"line\">        <span class=\"comment\">// 移除的节点不存在</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.#currentNode) <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.next.prev = <span class=\"built_in\">this</span>.#currentNode.prev</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode.prev.next = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size--</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    forward (num, start) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = start ? <span class=\"built_in\">this</span>.find(start) : <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (num-- &amp;&amp; <span class=\"built_in\">this</span>.#currentNode?.next) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    back (num, start) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = start ? <span class=\"built_in\">this</span>.find(start) : <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (num-- &amp;&amp; <span class=\"built_in\">this</span>.#currentNode?.prev) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.prev</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#currentNode</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    goToHead () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    goToTail () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#tail</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    isEmpty () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#size === <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    show () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.#currentNode?.val)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    getLength () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.#size</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    display () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.#currentNode) &#123;</span><br><span class=\"line\">            result += <span class=\"built_in\">this</span>.#currentNode.val</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#currentNode.next</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.#currentNode) result += <span class=\"string\">&#x27;-&gt;&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    clear () &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#head.next = <span class=\"literal\">null</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#tail = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#currentNode = <span class=\"built_in\">this</span>.#head</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.#size = <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","prev":{"title":"C# 实现链表","link":"articles/2021/2e6f9dcad2ea"},"next":{"title":"Bywave","link":"articles/2021/24e9c2e7f1a6"},"plink":"https://blog.qoqyir.com/articles/2021/8574f7040288/","toc":[{"id":"总结","title":"总结","index":"1"},{"id":"代码","title":"代码","index":"2","children":[{"id":"node-节点类","title":"Node 节点类","index":"2.1"},{"id":"single-linked-list-单向链表类","title":"Single Linked List 单向链表类","index":"2.2"},{"id":"double-linked-list-双向链表类","title":"Double Linked List 双向链表类","index":"2.3"}]}],"copyright":{"link":"<a href=\"https://blog.qoqyir.com/articles/2021/8574f7040288/\" title=\"Javascript 实现链表\">https://blog.qoqyir.com/articles/2021/8574f7040288/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow\" target=\"_blank\">CC BY-NC-ND 4.0</a>)","published":"August 21, 2021"},"reading_time":"1159 words in 8 minutes"}